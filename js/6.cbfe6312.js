(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"24ce":function(t,e,i){t.exports=i.p+"img/csystemLogo-0.3fe008c4.png"},"6d52":function(t,e,i){},b825:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[t.loadingSomethingBigger?a("q-linear-progress",{attrs:{indeterminate:"",color:"negative"}}):t._e(),a("div",{staticClass:"row"},[a("q-table",{staticClass:"col",attrs:{title:"Drugs",data:t.drugs_prod,filter:t.filter,columns:t.columns,"row-key":"Drug",pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"top-right",fn:function(){return[a("q-input",{attrs:{outlined:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("q-btn",{attrs:{flat:""}},[a("q-icon",{attrs:{color:"primary",name:"refresh"},on:{click:function(e){return t.listAllDrugs()}}}),a("q-tooltip",{attrs:{"content-class":"bg-primary",offset:[10,10]}},[t._v("\n        Refresh page\n      ")])],1),a("q-btn",{attrs:{outline:"",color:"primary"},on:{click:function(e){t.createProductDialog=!0}}},[a("q-tooltip",{attrs:{"content-class":"bg-indigo",offset:[10,10]}},[t._v("\n        Create new Drug\n      ")]),a("q-icon",{attrs:{color:"primary",name:"add",side:""}})],1)]},proxy:!0},{key:"body-cell-action",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("q-btn",{staticClass:"q-mr-sm",attrs:{icon:"create",color:"primary",size:"sm",dense:""},on:{click:function(i){return t.opendialog(e.row.id,e.row.name,e.row.Unit.unit_name,e.row.packSize,e.row.apins)}}},[a("q-tooltip",{attrs:{"content-class":"bg-indigo",offset:[10,10]}},[t._v("\n        Edit Drug\n      ")])],1),t._v(" |\n      "),a("q-btn",{staticClass:"q-mx-sm",attrs:{icon:"delete",color:"negative",size:"sm",dense:""},on:{click:function(i){return t.openDeleteDialog(e.row.id,e.row.name)}}},[a("q-tooltip",{attrs:{"content-class":"bg-red",offset:[10,10]}},[t._v("\n        Delete Drug\n      ")])],1),t._v("\n    |\n      "),a("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"add",color:"secondary",size:"sm",dense:""},on:{click:function(i){return t.addApinToDrug(e.row.id,e.row.name,e.row.unit_name,e.row.packSize,e.row.apins)}}},[a("q-tooltip",[t._v("\n        Add API and Unit to this drug\n      ")])],1)],1)]}}])})],1),a("q-dialog",{model:{value:t.createUserDialog,callback:function(e){t.createUserDialog=e},expression:"createUserDialog"}},[a("q-card",{staticClass:"q-ma-md"},[a("q-card-section",{staticClass:"bg-secondary text-white "},[a("div",{staticClass:"text-h6"},[t._v("Create New Drug"),a("q-btn",{staticClass:"float-right",attrs:{icon:"close",flat:"",round:"",dense:""},on:{click:function(e){t.createUserDialog=!1}}})],1)]),a("q-card-section",[a("productForm",{attrs:{inside:"true",main:t.main}})],1)],1)],1),a("q-dialog",{model:{value:t.createProductDialog,callback:function(e){t.createProductDialog=e},expression:"createProductDialog"}},[a("q-card",{staticClass:"q-ma-md"},[a("q-card-section",{staticClass:"bg-secondary text-white "},[a("div",{staticClass:"text-h6"},[t._v("Create New Brand"),a("q-btn",{staticClass:"float-right",attrs:{icon:"close",flat:"",round:"",dense:""},on:{click:function(e){t.createProductDialog=!1}}})],1)]),a("q-card-section",[a("productForm",{attrs:{inside:"true",main:t.main}})],1)],1)],1),a("q-dialog",{model:{value:t.addApiToDrugDialog,callback:function(e){t.addApiToDrugDialog=e},expression:"addApiToDrugDialog"}},[a("q-card",{staticClass:"q-ma-md"},[a("q-card-section",{staticClass:"bg-secondary text-white "},[a("div",{staticClass:"text-h6"},[t._v("Add API To Drug "),a("q-btn",{staticClass:"float-right",attrs:{icon:"close",flat:"",round:"",dense:""},on:{click:function(e){t.addApiToDrugDialog=!1}}})],1)]),a("q-card-section",[a("newApiForm")],1)],1)],1),a("q-dialog",{model:{value:t.apinsDialog,callback:function(e){t.apinsDialog=e},expression:"apinsDialog"}},[a("q-card",{staticClass:"q-ma-md"},[a("q-card-section",{staticClass:"bg-secondary text-white "},[a("div",{staticClass:"text-h6"},[t._v("Edit API"),a("q-btn",{staticClass:"float-right",attrs:{icon:"close",flat:"",round:"",dense:""},on:{click:function(e){t.apinsDialog=!1}}})],1)]),a("q-card-section",[a("q-form",{ref:"apinEditForm",on:{submit:t.editApi}},[a("q-input",{staticClass:"q-mb-sm",attrs:{outlined:"","lazy-rules":"",label:"API ID",mask:"######",readonly:"",disabled:"",disable:""},model:{value:t.apin_id,callback:function(e){t.apin_id=e},expression:"apin_id"}}),a("q-select",{staticClass:"q-mb-sm",attrs:{outlined:"","lazy-rules":"",options:t.apin,"option-label":"Apin_name","option-value":"apin_id",readonly:"",label:"APIs","emit-value":"","map-options":"","disable-select":"",disable:""},model:{value:t.apin_name,callback:function(e){t.apin_name=e},expression:"apin_name"}}),a("q-input",{staticClass:"q-mb-sm",attrs:{outlined:"","lazy-rules":"",label:"API Strength",rules:[function(t){return!!t||"Field is required"},function(t){return t.length>1||"Minimum of 2 characters only allowed"}]},model:{value:t.strength,callback:function(e){t.strength=e},expression:"strength"}}),a("q-btn",{attrs:{label:"Submit",type:"submit",color:"primary"}})],1)],1)],1)],1),a("q-dialog",{model:{value:t.updateDialog,callback:function(e){t.updateDialog=e},expression:"updateDialog"}},[a("q-card",{staticClass:"q-ma-md"},[a("q-card-section",{staticClass:"bg-secondary text-white"},[a("div",{staticClass:"text-h6"},[t._v("Edit Drug"),a("q-btn",{staticClass:"float-right",attrs:{icon:"close",flat:"",round:"",dense:""},on:{click:function(e){t.updateDialog=!1}}})],1)]),a("q-card-section",[a("q-form",{ref:"drugUpdateForm",on:{submit:t.editDrug}},[a("q-input",{staticClass:"q-mb-sm",attrs:{outlined:"",type:"text",label:"Id",readonly:"",disable:""},model:{value:t.drugId,callback:function(e){t.drugId=e},expression:"drugId"}}),a("q-input",{attrs:{outlined:"",type:"text",label:"Drug Name","lazy-rules":"",rules:[function(t){return!!t||"Field is required"},function(t){return t.length>1||"Minimum of 2 characters only allowed"}]},model:{value:t.updateName,callback:function(e){t.updateName=e},expression:"updateName"}}),a("q-select",{staticClass:"q-mb-sm",attrs:{outlined:"",options:t.units,"option-value":"unit_refer","option-label":"unit_name",type:"text","use-input":"","emit-value":"",label:"Unit name","lazy-rules":""},model:{value:t.unit_name,callback:function(e){t.unit_name=e},expression:"unit_name"}}),a("q-input",{staticClass:"q-mb-sm",attrs:{outlined:"","lazy-rules":"",label:"Pack Size",mask:"######",rules:[function(t){return!!t||"Field is required"},function(t){return t.length>1||"Minimum of 2 characters only allowed"}],"fill-input":""},model:{value:t.packSize,callback:function(e){t.packSize=e},expression:"packSize"}}),a("div",[a("q-btn",{attrs:{label:"Submit",type:"submit",color:"primary"}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Reset",type:"reset",flat:""}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{outline:"",color:"primary"},on:{click:function(e){return t.addApinToDrug(t.drugId,t.updateName,t.unit_name,t.packSize,t.apins)}}},[a("q-tooltip",{attrs:{"content-class":"bg-indigo",offset:[10,10]}},[t._v("\n        View and Update Related APIs\n      ")]),a("q-icon",{attrs:{color:"primary",name:"add",side:""}})],1)],1)],1)],1)],1)],1),a("q-dialog",{model:{value:t.addApinToDrugDialog,callback:function(e){t.addApinToDrugDialog=e},expression:"addApinToDrugDialog"}},[a("q-card",{staticClass:"my-card  q-ma-md",staticStyle:{"min-width":"300px"},attrs:{flat:"",bordered:""}},[a("q-item",[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",[a("img",{attrs:{src:i("24ce")}})])],1),a("q-item-section",[a("q-item-label",{staticClass:"text-weight-bold h5"},[t._v(t._s(t.updateName))]),a("q-item-label",{attrs:{caption:""}},[t._v("\n          "+t._s(t.unit_name)+"\n        ")])],1),a("q-btn",{staticClass:"float-right",attrs:{icon:"add",flat:"",round:""},on:{click:function(e){return t.addApiToDrug()}}},[a("q-tooltip",{attrs:{"content-class":"bg-primary"}},[t._v("\n        Add API to Drug\n      ")])],1)],1),a("q-separator"),a("div",{staticClass:"q-mx-md text-weight-bold h5"},[t._v("Active Phamaceutical Ingredients")]),a("div",{staticClass:"row"},[a("q-input",{staticStyle:{"max-width":"70%","margin-left":"12%"},attrs:{outlined:"",dense:"",placeholder:"Search API or Strength"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filteration,callback:function(e){t.filteration=e},expression:"filteration"}})],1),a("q-table",{staticClass:"col",attrs:{data:t.apins,filter:t.filteration,columns:t.column,pagination:t.pagination5},on:{"update:pagination":function(e){t.pagination5=e}},scopedSlots:t._u([{key:"body-cell-action",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("q-btn",{staticClass:"q-mr-sm",attrs:{icon:"create",color:"primary",size:"sm",dense:""},on:{click:function(i){return t.openApindialog(e.row.id,e.row.apin_id,e.row.Apin.Apin_name,e.row.strength,t.apins)}}},[a("q-tooltip",{attrs:{"content-class":"bg-indigo",offset:[10,10]}},[t._v("\n        Edit API Strength\n      ")])],1),t._v(" |\n      "),a("q-btn",{staticClass:"q-mx-sm",attrs:{icon:"delete",color:"negative",size:"sm",dense:""},on:{click:function(i){return t.deleteApinDialog(e.row.id,e.row.Apin.Apin_name)}}},[a("q-tooltip",{attrs:{"content-class":"bg-red",offset:[10,10]}},[t._v("\n        Delete API\n      ")])],1)],1)]}}])})],1)],1),a("q-dialog",{model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[a("q-card",{staticClass:"q-ma-md"},[a("q-card-section",{staticClass:" "},[a("div",{staticClass:"text-h6"},[t._v("Delete Drug"),a("q-btn",{staticClass:"float-right",attrs:{icon:"close",flat:"",round:"",dense:""},on:{click:function(e){t.deleteDialog=!1}}})],1)]),a("q-card-section",[a("q-form",{ref:"drugDeleteForm",on:{submit:t.deleteProduct}},[a("div",{staticClass:"text q-mb-lg"},[t._v("Are you sure you want to delete "+t._s(t.updateName)+" ?")]),a("div",[a("q-btn",{attrs:{label:"Yes",type:"submit",color:"primary"}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Cancel",type:"reset",flat:""},on:{click:function(e){t.deleteDialog=!1}}})],1)])],1)],1)],1),a("q-dialog",{model:{value:t.deleteApiDialog,callback:function(e){t.deleteApiDialog=e},expression:"deleteApiDialog"}},[a("q-card",{staticClass:"q-ma-md"},[a("q-card-section",{staticClass:" "},[a("div",{staticClass:"text-h6"},[t._v("Delete API for "+t._s(t.updateName)),a("q-btn",{staticClass:"float-right",attrs:{icon:"close",flat:"",round:"",dense:""},on:{click:function(e){t.deleteApiDialog=!1}}})],1)]),a("q-card-section",[a("q-form",{ref:"drugDeleteForm",on:{submit:t.deleteApinForDrug}},[a("div",{staticClass:"text q-mb-lg"},[t._v("Are you sure you want to delete "+t._s(t.apin_name)+"?")]),a("div",[a("q-btn",{attrs:{label:"Yes",type:"submit",color:"primary"}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Cancel",type:"reset",flat:""},on:{click:function(e){t.deleteApiDialog=!1}}})],1)])],1)],1)],1)],1)},n=[],s=(i("ddb0"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-form",{ref:"drugCreationForm",staticClass:"q-gutter-md",on:{submit:t.createDrug,reset:t.onReset}},[i("q-input",{attrs:{outlined:"",type:"text",label:"Drug Name","lazy-rules":"",rules:[function(t){return!!t||"Field is required"}][function(t){return t.length<2||"Valid input required"}]},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)}},model:{value:t.drug_name,callback:function(e){t.drug_name=e},expression:"drug_name"}}),i("div",[i("q-btn",{attrs:{label:"Submit",type:"submit",color:"primary"}}),i("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Reset",type:"reset",flat:""}})],1)],1)}),r=[];const o=i("20e6"),l=i("c2a1").default,d=i("1712").to;var c={name:"drugform",props:["inside","main"],data(){return{drug_name:""}},methods:{async listAllDrugs(){this.loadingSomethingBigger=!0;let[t,e]=await d(l.listAllDrugs(this.filters));this.loadingSomethingBigger=!1,this.drugs=e||[]},submit(){this.$refs.drugCreationForm.submit()},async createDrug(){l.setSettings({TBURL:o["TB_URL"]});let[t]=await d(l.createDrug({drug_name:this.drug_name}));if(t){t=t.msg||t.message||t.error||t;try{t=JSON.parse(t)}catch(e){}if("object"==typeof t){let e=Object.keys(t);t=t[e[0]]}this.$q.notify({type:"negative",message:t})}else this.$q.notify({type:"positive",message:"Drug Created Successfully"});await this.main.listAllDrugs()},onReset(){this.drug_name=null}}},u=c,p=i("2877"),g=i("0378"),m=i("27f9"),h=i("9c40"),f=i("eebe"),b=i.n(f),q=Object(p["a"])(u,s,r,!1,null,null,null),y=q.exports;b()(q,"components",{QForm:g["a"],QInput:m["a"],QBtn:h["a"]});var _=i("4081"),D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-form",{ref:"newApiForm",on:{submit:t.addApi}},[i("q-select",{ref:"selectRef",staticClass:"q-mb-sm",attrs:{outlined:"","use-input":"",options:t.drugs_prod,"option-label":"name","option-value":"id",label:"Drug","emit-value":"","map-options":"","input-debounce":"0",behavior:"menu"},on:{filter:t.filterDrug},scopedSlots:t._u([{key:"no-option",fn:function(){return[i("q-item",[i("q-item-section",[t._v("\r\n                     No such item\r\n                   ")])],1)]},proxy:!0}]),model:{value:t.drug_name,callback:function(e){t.drug_name=e},expression:"drug_name"}}),i("q-select",{ref:"selectRef",staticClass:"q-mb-sm",attrs:{outlined:"","use-input":"",options:t.apins,"option-label":"Apin_name",label:"APIs","emit-value":"","map-options":"",behavior:"menu","input-debounce":"0"},on:{filter:t.filterFn},scopedSlots:t._u([{key:"no-option",fn:function(){return[i("q-item",[i("q-item-section",[t._v("\r\n                     No such item\r\n                   ")])],1)]},proxy:!0}]),model:{value:t.apindrug,callback:function(e){t.apindrug=e},expression:"apindrug"}}),i("div",{staticClass:"row"},[i("q-input",{attrs:{outlined:"",type:"text",label:"API Strength","option-label":"strength","lazy-rules":"",rules:[function(t){return!!t||"Field is required"},function(t){return t.length>1||"Minimum of 2 characters only allowed"}]},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)}},model:{value:t.strength,callback:function(e){t.strength=e},expression:"strength"}}),i("div",{staticClass:" col"},[i("q-btn",{staticClass:"q-ml-sm",attrs:{outline:"",color:"primary"},nativeOn:{click:function(e){return t.joinApinAndStrength(e)}}},[i("q-icon",{attrs:{color:"primary",name:"add",side:""}})],1)],1)],1),i("q-select",{attrs:{borderless:"","option-label":"Dname","disable-select":"","emit-value":"","use-chips":"","map-options":"",multiple:"","hide-dropdown-icon":"",type:"textarea"},model:{value:t.apinstrength,callback:function(e){t.apinstrength=e},expression:"apinstrength"}}),i("div",[i("q-btn",{attrs:{label:"Submit",type:"submit",color:"primary"}})],1)],1)},A=[];const v=i("20e6"),w=i("c2a1").default,k=i("1712").to;var C={name:"newApiForm",props:["inside","main"],data(){return{apindrug:"",strength:"",drug_name:"",apinstrength:"",dawascope:"",v_data:"",packSize:"",Apin_name:"",drugId:"",updateName:"",unit_name:"",drugs:[],units:[],apins:[],drugApins:[],apinstrength:[],data:[],concatD:"",v_data:[],products:[],drugs_prod:[],apin_drugs:[]}},mounted(){this.listAllApins(),this.listAllDrugProds()},methods:{async listAllApins(){let[t,e]=await k(w.listAllApins(this.filters));this.apins=e||[]},async listAllDrugProds(){let[t,e]=await k(w.listAllProducts(this.filters));this.drugs_prod=e||[]},joinApinAndStrength(){this.Apin_name=this.apindrug.Apin_name,this.apindrug=this.apindrug.apin_id,this.Apin_name=this.Apin_name,this.strength=this.strength,this.concatD=this.Apin_name.concat(" ").concat(this.strength),this.data={apin_id:this.apindrug,Apin_name:this.Apin_name,strength:this.strength,Dname:this.concatD},this.apinstrength.push(this.data),this.v_data=this.apinstrength},async filterFn(t,e){return e((()=>{if(!t)return this.apins;const e=t.toLowerCase();this.apins=this.apins.filter((t=>t.Apin_name.toLowerCase().indexOf(e)>-1))})),this.apins},async filterDrug(t,e){return e((()=>{if(!t)return this.drugs_prod;const e=t.toLowerCase();this.drugs_prod=this.apins.filter((t=>t.name.toLowerCase().indexOf(e)>-1))})),this.drugs_prod},submit(){this.$refs.drugCreationForm.submit()},async addApi(){w.setSettings({TBURL:v["TB_URL"]});let t={apin_id:this.apindrug,strength:this.strength,drug_id:this.drug_name},[e]=await k(w.addApiToSpecificDrug(t));if(console.log(t),console.log(t.apin_id),e){e=e.msg||e.message||e.error||e;try{e=JSON.parse(e)}catch(i){}if("object"==typeof e){let t=Object.keys(e);e=e[t[0]]}this.$q.notify({type:"negative",message:e})}else this.$q.notify({type:"positive",message:"API added successfully"})}}},S=C,x=(i("d07f"),i("ddd8")),I=i("66e5"),P=i("4074"),T=i("0016"),F=Object(p["a"])(S,D,A,!1,null,null,null),Q=F.exports;b()(F,"components",{QForm:g["a"],QSelect:x["a"],QItem:I["a"],QItemSection:P["a"],QInput:m["a"],QBtn:h["a"],QIcon:T["a"]});const z=i("c2a1").default,B=i("20e6"),N=(i("6daa").default,i("1712").to);var U={props:["inside","main",Q],components:{drugform:y,productForm:_["a"],newApiForm:Q},data(){return{Apin_name:this.newApiForm,options:["Google","Facebook","Twitter","Apple","Oracle"],pagination:{rowsPerPage:10},pagination5:{rowsPerPage:5},drug_id:"",unit_id:"",apin_id:"",strength:"",updateName:"",packSize:"",unit_name:"",apin_name:"",new_apin:"",new_strength:"",drugId:"",filter:"",filteration:"",main:this,createUserDialog:!1,createProductDialog:!1,deleteDialog:!1,deleteApiDialog:!1,updateDialog:!1,apinsDialog:!1,addApinToDrugDialog:!1,addApiToDrugDialog:!1,loadingSomethingBigger:!1,columns:[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"name",label:"Drug Name",field:"name",align:"left",sortable:!0},{name:"unit_refer",label:"Unit",field:t=>t.Unit.unit_name,align:"left",sortable:!0},{name:"action",label:"Action",field:"id",align:"center"}],column:[{label:"API",field:t=>t.Apin.Apin_name,align:"left",sortable:!0},{name:"strength",label:"Strength",field:"strength",align:"left"},{name:"action",label:"Action",field:"id",align:"center"}],drugs_prod:[],units:[],apins:[],apin:[],products:[],Drug_details:[]}},async created(){this.drugs_prod=this.drugs_prod.filter((t=>{let e=drugs_prod.children;try{return e=e.filter((t=>{let e=t.drugs_prod;return e.some((t=>this.drugs_prod.includes(t)))})),e.length>0}catch(i){return!0}}))},mounted(){this.listAllDrugs(),this.listAllUnits(),this.listAllApins(),this.drug_details(),this.listApinsRelatedToDrug()},methods:{submit(){this.$refs.drugUpdateForm.submit(),this.$refs.apinEditForm.submit()},async listAllDrugs(){this.loadingSomethingBigger=!0;let[t,e]=await N(z.listAllProducts(this.filters));this.loadingSomethingBigger=!1,this.drugs_prod=e||[]},async listApinsRelatedToDrug(){this.loadingSomethingBigger=!0;let[t,e]=await N(z.listAllApinsRelatedToDrug(this.filters));this.loadingSomethingBigger=!1},async listAllUnits(){this.loadingSomethingBigger=!0;let[t,e]=await N(z.listAllUnits(this.filters));this.loadingSomethingBigger=!1,this.units=e||[]},async listAllApins(){this.loadingSomethingBigger=!0;let[t,e]=await N(z.listAllApins(this.filters));this.loadingSomethingBigger=!1,this.apins=e||[],console.log("Here comes ",this.apins)},async drug_details(t){this.loadingSomethingBigger=!0,this.drugId=t;let[e,i]=await N(z.Drug_details(t));this.loadingSomethingBigger=!1,this.Drug_details=i||[]},async editDrug(){return new Promise((async(t,e)=>{let i={id:this.drugId,name:this.updateName,unit_id:this.unit_name.id,packSize:parseInt(this.packSize)},[a]=await N(z.updateProduct(i));if(console.log(a),a)return this.$q.notify({type:"negative",message:a.msg||a}),t(!1);this.$q.notify({type:"positive",message:`Saved changes to ${this.updateName}`}),await this.listAllDrugs(),t(!0)}))},async editApi(){return new Promise((async(t,e)=>{let i={id:this.id,apin_id:this.apin_id,strength:this.strength,apin_name:this.apin_name},[a]=await N(z.updateApinsInDrug(i));if(console.log(a),console.log(i.apin_name),a)return this.$q.notify({type:"negative",message:a.msg||a}),t(!1);this.$q.notify({type:"positive",message:"Saved changes"}),await this.main.listApinsRelatedToDrug(),t(!0)}))},async deleteProduct(){return new Promise((async(t,e)=>{let i={id:this.drugId,drug_name:this.updateName};console.log(i.id);let[a,n]=await N(z.deleteDrug(i));if(a)return this.$q.notify({type:"negative",message:a.msg||a}),t(!1);this.$q.notify({type:"positive",message:"Drug has been deleted."}),await this.listAllDrugs(),t(!0)}))},async deleteApinForDrug(){return new Promise((async(t,e)=>{let i={id:this.id,apin_name:this.apin_name};console.log(i.id);let{err:a,care:n}=await N(z.deleteApinForDrug(i));if(a)return this.$q.notify({type:"negative",message:a.msg||a}),t(!1);this.$q.notify({type:"positive",message:"API has been deleted"}),await this.main.listApinsRelatedToDrug(),t(!0)}))},async createProducts(){z.setSettings({TBURL:B["TB_URL"]});let[t]=await N(z.createProducts({name:this.drug,apins:this.apinstrength,unit_name:this.unit_id.unit_name,packSize:10}));if(t){t=t.msg||t.message||t.error||t;try{t=JSON.parse(t)}catch(e){}if("object"==typeof t){let e=Object.keys(t);t=t[e[0]]}this.$q.notify({type:"negative",message:t})}else this.$q.notify({type:"positive",message:"Product Created Successfully"});await this.main.listAllDrugs()},async addApi(){z.setSettings({TBURL:B["TB_URL"]});let t={apin_id:parseInt(this.apin_id),drug_id:parseInt(this.drugId),strength:this.strength},[e]=await N(z.addApiToSpecificDrug(t));if(console.log(t),e){e=e.msg||e.message||e.error||e;try{e=JSON.parse(e)}catch(i){}if("object"==typeof e){let t=Object.keys(e);e=e[t[0]]}this.$q.notify({type:"negative",message:e})}else this.$q.notify({type:"positive",message:"API added successfully"})},openDeleteDialog(t,e){this.deleteDialog=!0,this.drugId=t,this.updateName=e},deleteApinDialog(t,e){this.deleteApiDialog=!0,this.id=t,this.apin_name=e},opendialog(t,e,i,a,n){this.updateDialog=!0,this.drugId=t,this.updateName=e,this.unit_name=i,this.packSize=a,this.apins=n},openApindialog(t,e,i,a){this.apinsDialog=!0,this.id=t,this.apin_id=e,this.apin_name=i,this.strength=a},addApinToDrug(t,e,i,a,n){this.addApinToDrugDialog=!0,this.drugId=t,this.updateName=e,this.unit_name=i,this.packSize=a,this.apins=n},addApiToDrug(){this.addApiToDrugDialog=!0}}},$=U,R=i("9989"),O=i("6b1d"),L=i("eaac"),j=i("05c0"),E=i("db86"),J=i("24e8"),M=i("f09f"),V=i("a370"),Y=i("cb32"),G=i("0170"),H=i("eb85"),K=Object(p["a"])($,a,n,!1,null,null,null);e["default"]=K.exports;b()(K,"components",{QPage:R["a"],QLinearProgress:O["a"],QTable:L["a"],QInput:m["a"],QIcon:T["a"],QBtn:h["a"],QTooltip:j["a"],QTd:E["a"],QDialog:J["a"],QCard:M["a"],QCardSection:V["a"],QForm:g["a"],QSelect:x["a"],QItem:I["a"],QItemSection:P["a"],QAvatar:Y["a"],QItemLabel:G["a"],QSeparator:H["a"]})},d07f:function(t,e,i){"use strict";i("6d52")}}]);